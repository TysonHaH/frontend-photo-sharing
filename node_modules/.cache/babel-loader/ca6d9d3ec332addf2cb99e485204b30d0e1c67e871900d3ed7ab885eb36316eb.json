{"ast":null,"code":"var _jsxFileName = \"G:\\\\ptit\\\\k\\xEC 7\\\\final\\\\frontend-photo-sharing\\\\src\\\\components\\\\UserEdit\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Card, CardContent, Typography, Button, TextField, Box, Alert } from \"@mui/material\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport fetchModel, { putModel } from \"../../lib/fetchModelData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserEdit({\n  loggedInUser\n}) {\n  _s();\n  const userId = useParams();\n  const navigate = useNavigate();\n  const [userData, setUserData] = useState({\n    last_name: \"\",\n    location: \"\",\n    description: \"\",\n    occupation: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const response = await fetchModel(`/user/${userId}`);\n        const user = response.data;\n        setUserData({\n          last_name: user.last_name,\n          location: user.location,\n          description: user.description,\n          occupation: user.occupation\n        });\n      } catch (err) {\n        console.error(\"Error fetching user:\", err);\n        setError(\"Could not load user data.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    getUser();\n  }, [userId]);\n  if (loggedInUser._id !== userId) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"error\",\n          children: \"You are not permitted to change this profile.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n  return;\n}\n_s(UserEdit, \"hNyFKgAh9kOAcJPI8RuG1z78DiI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UserEdit;\nexport default UserEdit;\nvar _c;\n$RefreshReg$(_c, \"UserEdit\");","map":{"version":3,"names":["React","useEffect","useState","Card","CardContent","Typography","Button","TextField","Box","Alert","useParams","useNavigate","fetchModel","putModel","jsxDEV","_jsxDEV","UserEdit","loggedInUser","_s","userId","navigate","userData","setUserData","last_name","location","description","occupation","loading","setLoading","error","setError","getUser","response","user","data","err","console","_id","children","variant","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["G:/ptit/kÃ¬ 7/final/frontend-photo-sharing/src/components/UserEdit/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Card, CardContent, Typography, Button, TextField, Box, Alert } from \"@mui/material\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport fetchModel, { putModel } from \"../../lib/fetchModelData\";\r\n\r\nfunction UserEdit({ loggedInUser }) {\r\n  const userId = useParams();\r\n  const navigate = useNavigate();\r\n  const [userData,setUserData] = useState({\r\n    last_name: \"\",\r\n    location: \"\",\r\n    description: \"\",\r\n    occupation: \"\",\r\n  });\r\n  const [loading,setLoading] = useState(true);\r\n  const [error,setError] = useState(null);\r\n  \r\n  useEffect(() =>{\r\n    const getUser = async () =>{\r\n        try{\r\n            const response = await fetchModel(`/user/${userId}`);\r\n            const user = response.data;\r\n            setUserData({\r\n                last_name: user.last_name,\r\n                location: user.location,\r\n                description: user.description,\r\n                occupation: user.occupation,\r\n            });\r\n        } catch (err){\r\n            console.error(\"Error fetching user:\", err);\r\n            setError(\"Could not load user data.\");\r\n        } finally{\r\n            setLoading(false);\r\n        }\r\n    };\r\n    getUser();\r\n  }, [userId]);\r\n  \r\n  if(loggedInUser._id !== userId){\r\n    return (<Card>\r\n        <CardContent>\r\n            <Typography variant=\"h6\" color=\"error\">You are not permitted to change this profile.</Typography>\r\n        </CardContent>\r\n    </Card>\r\n    );\r\n  }\r\n  return\r\n}\r\nexport default UserEdit;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,GAAG,EAAEC,KAAK,QAAQ,eAAe;AAC5F,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,UAAU,IAAIC,QAAQ,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,SAASC,QAAQA,CAAC;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EAClC,MAAMC,MAAM,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAMU,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACU,QAAQ,EAACC,WAAW,CAAC,GAAGpB,QAAQ,CAAC;IACtCqB,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACfC,UAAU,EAAE;EACd,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAACC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAC3C,MAAM,CAAC2B,KAAK,EAACC,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAEvCD,SAAS,CAAC,MAAK;IACb,MAAM8B,OAAO,GAAG,MAAAA,CAAA,KAAW;MACvB,IAAG;QACC,MAAMC,QAAQ,GAAG,MAAMpB,UAAU,CAAC,SAASO,MAAM,EAAE,CAAC;QACpD,MAAMc,IAAI,GAAGD,QAAQ,CAACE,IAAI;QAC1BZ,WAAW,CAAC;UACRC,SAAS,EAAEU,IAAI,CAACV,SAAS;UACzBC,QAAQ,EAAES,IAAI,CAACT,QAAQ;UACvBC,WAAW,EAAEQ,IAAI,CAACR,WAAW;UAC7BC,UAAU,EAAEO,IAAI,CAACP;QACrB,CAAC,CAAC;MACN,CAAC,CAAC,OAAOS,GAAG,EAAC;QACTC,OAAO,CAACP,KAAK,CAAC,sBAAsB,EAAEM,GAAG,CAAC;QAC1CL,QAAQ,CAAC,2BAA2B,CAAC;MACzC,CAAC,SAAQ;QACLF,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IACDG,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,CAACZ,MAAM,CAAC,CAAC;EAEZ,IAAGF,YAAY,CAACoB,GAAG,KAAKlB,MAAM,EAAC;IAC7B,oBAAQJ,OAAA,CAACZ,IAAI;MAAAmC,QAAA,eACTvB,OAAA,CAACX,WAAW;QAAAkC,QAAA,eACRvB,OAAA,CAACV,UAAU;UAACkC,OAAO,EAAC,IAAI;UAACC,KAAK,EAAC,OAAO;UAAAF,QAAA,EAAC;QAA6C;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC;EAET;EACA;AACF;AAAC1B,EAAA,CA1CQF,QAAQ;EAAA,QACAN,SAAS,EACPC,WAAW;AAAA;AAAAkC,EAAA,GAFrB7B,QAAQ;AA2CjB,eAAeA,QAAQ;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
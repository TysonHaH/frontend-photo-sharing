{"ast":null,"code":"// lib/fetchModelData.js\n\nconst BASE_URL = 'http://localhost:8081';\nfunction request(url, method, data = null) {\n  const headers = {\n    'Content-Type': 'application/json'\n    // Thêm Authorization token nếu cần:\n    // 'Authorization': 'Bearer ' + token\n  };\n  const config = {\n    method: method,\n    headers: headers\n  };\n\n  // Nếu có body và method không phải là GET/HEAD, thêm body vào config\n  if (data && method !== 'GET' && method !== 'HEAD') {\n    config.body = JSON.stringify(data);\n  }\n  return fetch(BASE_URL + url, config).then(response => {\n    if (!response.ok) {\n      return response.json().then(err => {\n        const msg = err && err.message ? err.message : 'Fetch error';\n        throw new Error(msg);\n      });\n    }\n    return response.json();\n  }).catch(err => {\n    console.error(`Fetch ${method} error:`, err);\n    throw err;\n  });\n}\n\n// --- Các hàm Export để sử dụng bên ngoài ---\n\n// 1. GET (Giữ lại logic cũ của bạn nhưng gọi hàm request)\nexport function fetchModel(url) {\n  return request(url, 'GET');\n}\n\n// 2. POST (Tạo mới)\nexport function postModel(url, data) {\n  return request(url, 'POST', data);\n}\n\n// 3. PUT (Cập nhật)\nexport function putModel(url, data) {\n  return request(url, 'PUT', data);\n}\n\n// 4. DELETE (Xóa)\nexport function deleteModel(url) {\n  return request(url, 'DELETE');\n}\nexport default fetchModel;","map":{"version":3,"names":["BASE_URL","request","url","method","data","headers","config","body","JSON","stringify","fetch","then","response","ok","json","err","msg","message","Error","catch","console","error","fetchModel","postModel","putModel","deleteModel"],"sources":["G:/ptit/kì 7/final/frontend-photo-sharing/src/lib/fetchModelData.js"],"sourcesContent":["// lib/fetchModelData.js\r\n\r\nconst BASE_URL = 'http://localhost:8081';\r\n\r\nfunction request(url, method, data = null) {\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    // Thêm Authorization token nếu cần:\r\n    // 'Authorization': 'Bearer ' + token\r\n  };\r\n\r\n  const config = {\r\n    method: method,\r\n    headers: headers,\r\n  };\r\n\r\n  // Nếu có body và method không phải là GET/HEAD, thêm body vào config\r\n  if (data && method !== 'GET' && method !== 'HEAD') {\r\n    config.body = JSON.stringify(data);\r\n  }\r\n\r\n  return fetch(BASE_URL + url, config)\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return response.json().then((err) => {\r\n          const msg = err && err.message ? err.message : 'Fetch error';\r\n          throw new Error(msg);\r\n        });\r\n      }\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.error(`Fetch ${method} error:`, err);\r\n      throw err;\r\n    });\r\n}\r\n\r\n// --- Các hàm Export để sử dụng bên ngoài ---\r\n\r\n// 1. GET (Giữ lại logic cũ của bạn nhưng gọi hàm request)\r\nexport function fetchModel(url) {\r\n  return request(url, 'GET');\r\n}\r\n\r\n// 2. POST (Tạo mới)\r\nexport function postModel(url, data) {\r\n  return request(url, 'POST', data);\r\n}\r\n\r\n// 3. PUT (Cập nhật)\r\nexport function putModel(url, data) {\r\n  return request(url, 'PUT', data);\r\n}\r\n\r\n// 4. DELETE (Xóa)\r\nexport function deleteModel(url) {\r\n  return request(url, 'DELETE');\r\n}\r\n\r\nexport default fetchModel;"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAG,uBAAuB;AAExC,SAASC,OAAOA,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,GAAG,IAAI,EAAE;EACzC,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE;IAChB;IACA;EACF,CAAC;EAED,MAAMC,MAAM,GAAG;IACbH,MAAM,EAAEA,MAAM;IACdE,OAAO,EAAEA;EACX,CAAC;;EAED;EACA,IAAID,IAAI,IAAID,MAAM,KAAK,KAAK,IAAIA,MAAM,KAAK,MAAM,EAAE;IACjDG,MAAM,CAACC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;EACpC;EAEA,OAAOM,KAAK,CAACV,QAAQ,GAAGE,GAAG,EAAEI,MAAM,CAAC,CACjCK,IAAI,CAAEC,QAAQ,IAAK;IAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MAChB,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAACH,IAAI,CAAEI,GAAG,IAAK;QACnC,MAAMC,GAAG,GAAGD,GAAG,IAAIA,GAAG,CAACE,OAAO,GAAGF,GAAG,CAACE,OAAO,GAAG,aAAa;QAC5D,MAAM,IAAIC,KAAK,CAACF,GAAG,CAAC;MACtB,CAAC,CAAC;IACJ;IACA,OAAOJ,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,CACDK,KAAK,CAAEJ,GAAG,IAAK;IACdK,OAAO,CAACC,KAAK,CAAC,SAASlB,MAAM,SAAS,EAAEY,GAAG,CAAC;IAC5C,MAAMA,GAAG;EACX,CAAC,CAAC;AACN;;AAEA;;AAEA;AACA,OAAO,SAASO,UAAUA,CAACpB,GAAG,EAAE;EAC9B,OAAOD,OAAO,CAACC,GAAG,EAAE,KAAK,CAAC;AAC5B;;AAEA;AACA,OAAO,SAASqB,SAASA,CAACrB,GAAG,EAAEE,IAAI,EAAE;EACnC,OAAOH,OAAO,CAACC,GAAG,EAAE,MAAM,EAAEE,IAAI,CAAC;AACnC;;AAEA;AACA,OAAO,SAASoB,QAAQA,CAACtB,GAAG,EAAEE,IAAI,EAAE;EAClC,OAAOH,OAAO,CAACC,GAAG,EAAE,KAAK,EAAEE,IAAI,CAAC;AAClC;;AAEA;AACA,OAAO,SAASqB,WAAWA,CAACvB,GAAG,EAAE;EAC/B,OAAOD,OAAO,CAACC,GAAG,EAAE,QAAQ,CAAC;AAC/B;AAEA,eAAeoB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}